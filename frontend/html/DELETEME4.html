<!DOCTYPE html>

<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>

	<link rel="stylesheet" href="https://artur.red/style/global.css">
	<script src="https://artur.red/script/cookies.js" defer></script>
	<script src="https://artur.red/script/global.js" defer></script>

	<style>
	</style>

</head>

<body class="dark" data-new-gr-c-s-check-loaded="8.892.0" data-gr-ext-installed="" cz-shortcut-listen="true"
	data-new-gr-c-s-loaded="8.892.0">
	<div class="sunburst-container" id="sunburst">
		<div class="sunburst"></div>
	</div>
	<main>
		<nav id="nav">
			<div class="logo">
				<a href="index.html">
					<h1>Scrapb<span></span>x</h1>
				</a>
			</div>
			<ul id="player-list">
				<li class="player ">
					<div class="pfp">
						<img style="background: #e6194B" src="https://artur.red/faces/9.svg" alt="Player profile image">
					</div>
					<div class="info">
						<p>Aaron</p>
					</div>
				</li>
			</ul>
			<a href="https://artur.red" class="leave-button">
				<button class="removable leave">
					Leave Game
				</button>
			</a>
		</nav>

		<div class="main-room-section" id="text-input-area">

			<div class="question fade-in-view">
				<h1>Top ten reasons to keep going. Nr 15: ________.</h1>
			</div>
			<div class="question-answer fade-in-view">
				<div class="snippet-output" id="snippet-output">
					<span id="word_0.8syotttmpsl" class="snippet removable"
						onclick="remove_word('0.8syotttmpsl')">this</span>

					<span id="word_0.givz251mszd" class="snippet removable"
						onclick="remove_word('0.givz251mszd')">is</span>

					<span id="word_0.nfcb7dp4v1d" class="snippet removable"
						onclick="remove_word('0.nfcb7dp4v1d')">a</span>

					<span id="word_0.niroccllq0h" class="snippet removable"
						onclick="remove_word('0.niroccllq0h')">test</span>
				</div>
				<div class="snippet-input" id="snippet-input">
					<span onclick="add_word('this', 'Aaron')" class="snippet clickable">this</span>

					<span onclick="add_word('is', 'Aaron')" class="snippet clickable">is</span>

					<span onclick="add_word('a', 'Aaron')" class="snippet clickable">a</span>

					<span onclick="add_word('Test', 'Aaron')" class="snippet clickable">Test</span>

					<span onclick="add_word('test', 'Aaron')" class="snippet clickable">test</span>

					<span onclick="add_word('not', 'Aaron')" class="snippet clickable">not</span>
				</div>

				<div class="keyboard-controls" draggable="false">

					<div draggable="false" class="shuffle" onclick="shuffle_snippets()"><img draggable="false"
							src="https://artur.red/icons/shuffle.svg" alt="Shuffle"></div>
					<div draggable="false" id="mini-keyboard-toggle" onclick="toggle_keyboard()">
						ðŸ˜‚
					</div>
				</div>
			</div>

			<button onclick="submit_sentence()" class="submit">Submit</button>
		</div>
	</main>
	<div id="transition-container"></div>

	<div class="additional-words">
		<span class="snippet" id="additional-snippet">Penis</span>
		<span class="snippet" id="additional-snippet">Penis</span>
		<span class="snippet" id="additional-snippet">Penis</span>
		<span class="snippet" id="additional-snippet">Penis</span>
		<span class="snippet" id="additional-snippet">Penis</span>
	</div>

	<div id="uhh-nothing-to-see-here"></div>



	<script>
		
		const additional_words = () => {
			const add_snippets = document.querySelectorAll("#additional-snippet")
			const time_between = 800; //ms

			if (document.getElementById("additional-words") != undefined) return;
			
			document.getElementById("transition-container").innerHTML = "ONG";
				

			for (let i = 0; i < add_snippets.length; i++) {
				setTimeout(() => {
					
					const percentage = i / add_snippets.length * (window.innerWidth)
					const center = percentage + (1/add_snippets.length * (window.innerWidth)) / 2
					add_snippets[i].style.transform = `translate(${center}px, 200px)`
					console.log(add_snippets[i].style.transform)
				}, i*time_between);
			}
		};
		window.addEventListener("resize", additional_words);
				
		
		const transition = (text, is_voting, function_callback) => {
			if (document.getElementById("transition-container") != undefined) {
				document.getElementById("transition-container").innerHTML = "";
			}
			document.getElementById("transition-container").innerHTML += `
				        <div class="screen-overlay" id="screen-overlay">
				            <p class="transition-title-text">${(is_voting) ? "Voting" : ""}</p>
				            <h1 id="screen-overlay-text">${text}</h1>
				        </div>
				    `
			const screen_overlay = document.getElementById("screen-overlay");

			setTimeout(() => {
				screen_overlay.style.animation = "screen-overlay-end 1s ease-in-out forwards";

				setTimeout(() => {
					if (typeof function_callback === "function") function_callback();
					else return;
				}, 1000);

			}, 3000 + text.length * 50);
		}

		transition("What is the worst first date?", false, additional_words)

	</script>

</body>

</html>