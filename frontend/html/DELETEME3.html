<!DOCTYPE html>

<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Document</title>

		<link rel="stylesheet" href="https://artur.red/style/global.css">
		<script src="https://artur.red/script/cookies.js" defer></script>
		<script src="https://artur.red/script/global.js" defer></script>
		<script src="https://artur.red/script/game/browse-games.js" defer></script>

	</head>

	<body class="dark" cz-shortcut-listen="true" data-new-gr-c-s-check-loaded="8.893.0" data-gr-ext-installed="">
		<div class="screen-overlay" id="screen-overlay">
            <p class="transition-title-text">${(is_voting)?"Voting":""}</p>
            <h1 id="screen-overlay-text">${text}</h1>


            <div id="cardboard-box" class="cardboard-box" style="z-index: 120;">
                <img src="https://artur.red/images/cardboard-box.svg">
			</div>

			<div class="mini-sunburst" id="mini-sunburst"></div>

			<div class="additional-snippet-container" id="additional-snippet-container">
				<span class="snippet golden is_additional">shit</span>
				<span class="snippet golden is_additional">shit</span>
				<span class="snippet golden is_additional">shit</span>
				<span class="snippet golden is_additional">shit</span>
				<span class="snippet golden is_additional">shit</span>
				<span class="snippet golden is_additional">shit</span>
			</div>
        </div>

		<script>

			const animate_additional_snippets = () => {
				const asc = document.getElementById("additional-snippet-container");
				const cb = document.getElementById("cardboard-box");
				const ms = document.getElementById("mini-sunburst");
				cb.style.transform = "translate(-50%, 50%)";
				asc.style.transform = "translate(-50%, 50%)";

				setTimeout(() => {ms.style.opacity = "1";}, 750);

				const all_additional_snippets = document.querySelectorAll(".is_additional");

				const SNIPPET_DELAY = 0.3;
				const SCREEN_WIDTH = window.innerWidth;
				const START_DELAY = 1400;
			
				all_additional_snippets.forEach((child, index) => {
					setTimeout(() => {
						console.log(child);
						child.style.transition = "transform 1s ease-in-out, opacity 1s ease-in-out";
						child.style.transform = `translate(${100/2-(index*100/all_additional_snippets.length) - (100/all_additional_snippets.length)/2}vw, -25vh)`;
						child.style.opacity = 1;
					}, (SNIPPET_DELAY*1000)*index + START_DELAY);
				});
			}
			setTimeout(animate_additional_snippets, 3000);
		</script>
	</body>
</html>